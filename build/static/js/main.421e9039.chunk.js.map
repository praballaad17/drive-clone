{"version":3,"sources":["firebase.js","contexts/AuthContext.js","authentication/CenterContainer.js","authentication/Signup.js","authentication/Profile.js","authentication/Login.js","authentication/PrivateRoute.js","authentication/ForgetPassword.js","authentication/UpdateProfile.js","hooks/useFolder.js","drive/AddFileButton.js","drive/AddFolderButton.js","drive/Folder.js","drive/File.js","drive/FolderBreadCrumbs.js","drive/NavBar.js","drive/Dashboard.js","authentication/App.js","reportWebVitals.js","index.js"],"names":["app","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","database","folders","collection","files","formatDoc","doc","id","data","getCurrentTimeStamp","FieldValue","serverTimestamp","storage","auth","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","currentUser","setCurrentUser","loading","setLoading","useEffect","onAuthStateChanged","user","value","signup","email","password","createUserWithEmailAndPassword","login","signInWithEmailAndPassword","logout","signOut","forgetPassword","sendPasswordResetEmail","updateEmail","updatePassword","deleteUser","delete","Provider","displayName","CenterContainer","Container","className","style","minHeight","maxWidth","Signup","emailRef","useRef","passwordRef","passwordconfirmRef","error","setError","history","useHistory","e","a","preventDefault","current","push","Card","Body","Alert","variant","Form","onSubmit","Group","Label","Control","type","ref","required","Button","disabled","to","Profile","onClick","Login","PrivateRoute","Component","component","rest","render","props","ForgetPassword","message","setMessage","UpdateProfile","promises","Promise","all","then","catch","finally","defaultValue","placeholder","ACTIONS","ROOT_FOLDER","name","path","reducer","state","payload","folderId","folder","childFiles","childFolders","AddFileButton","currentFolder","uploadingFiles","setUploadingFiles","icon","faFileUpload","onChange","file","target","uuidV4","prevUploadingFiles","progress","filePath","join","uploadTask","uid","put","console","log","snapshot","getDownloadURL","on","bytesTransferred","totalBytes","map","uploadFile","filter","url","add","createAt","userId","opacity","position","left","length","ReactDOM","createPortal","bottom","right","Toast","onClose","Header","ProgressBar","animated","now","label","Math","round","document","body","AddFolderButton","open","setOpen","setName","closeModal","size","faFolderPlus","Modal","show","onHide","parentId","createdAt","Footer","Folder","pathname","as","Link","faFolder","File","href","faFile","FolderBreadCrumbs","Breadcrumb","listProps","index","Item","linkAs","linkProps","slice","active","NavBarComponent","Navbar","bg","expand","Brand","Nav","Dashboard","useParams","useLocation","useReducer","dispatch","get","where","orderBy","onSnapshot","docs","useFolder","fluid","childFolder","childFile","App","exact","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.421e9039.chunk.js","sourcesContent":["import  firebase  from 'firebase/app';\r\nimport \"firebase/auth\"\r\nimport \"firebase/firestore\"\r\nimport \"firebase/storage\"\r\n\r\nconst firebaseConfig = {\r\n    apiKey: process.env.REACT_APP_FIREBASE_API_KEY,\r\n    authDomain: process.env.REACT_APP_FIREBASE_AUTH_DOMAIN,\r\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASE_URL,\r\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\r\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\r\n    messagingSenderId: process.env.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,\r\n    appId: process.env.REACT_APP_FIREBASE_APP_ID\r\n  }\r\n\r\nconst app = firebase.initializeApp(firebaseConfig);\r\nconst firestore = app.firestore()\r\nexport const database = {\r\n  folders: firestore.collection('folders'),\r\n  files: firestore.collection('files'),\r\n  formatDoc: doc => { \r\n    return { id: doc.id, ...doc.data()}\r\n  },\r\n  getCurrentTimeStamp: firebase.firestore.FieldValue.serverTimestamp\r\n}\r\nexport const storage = app.storage()\r\nexport default app\r\n\r\n","import React, { useState, useContext, useEffect } from 'react'\r\nimport app from '../firebase';\r\n\r\nconst auth = app.auth() \r\n\r\nconst AuthContext = React.createContext()\r\nAuthContext.displayName = \"AuthContext\"\r\n\r\nexport function useAuth() {\r\n    return (\r\n         useContext(AuthContext)\r\n    )\r\n}\r\n\r\nexport function AuthProvider({ children }) {\r\n    const [currentUser, setCurrentUser] = useState()\r\n    const [loading, setLoading] = useState(false)\r\n    \r\n    function signup(email, password) {\r\n        return auth.createUserWithEmailAndPassword(email, password)\r\n    }\r\n\r\n    function login(email, password) {\r\n        return auth.signInWithEmailAndPassword(email, password)\r\n        \r\n    }\r\n\r\n    function forgetPassword(email) {\r\n        return auth.sendPasswordResetEmail(email)\r\n        \r\n    }\r\n\r\n    function updateEmail(email) {\r\n        return currentUser.updateEmail(email)\r\n    }\r\n\r\n    function updatePassword(password) {\r\n        return currentUser.updatePassword(password) \r\n    }\r\n\r\n    function deleteUser() {\r\n        return currentUser.delete() \r\n    }\r\n\r\n    function logout() {\r\n        return auth.signOut()  \r\n    }\r\n\r\n    useEffect(() => {\r\n        const unsubscribe = auth.onAuthStateChanged(user => {\r\n            setCurrentUser(user)\r\n            setLoading(false)\r\n        })\r\n        return unsubscribe\r\n    }, [])\r\n\r\n    const value = {\r\n        currentUser,\r\n        signup,\r\n        login,\r\n        logout,\r\n        forgetPassword,\r\n        updateEmail,\r\n        updatePassword,\r\n        deleteUser\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider value ={value}>\r\n            {!loading && children}\r\n        </AuthContext.Provider>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Container } from 'react-bootstrap';\r\n\r\nexport default function CenterContainer({children}) {\r\n    return (\r\n        <Container className=\"d-flex align-items-center justify-content-center\"\r\n                style={{ minHeight: \"100vh\"}} >\r\n                  <div className=\"w-100\" style={{ maxWidth: '400px'}}>\r\n                   {children}\r\n                  </div>\r\n              </Container>\r\n    )\r\n}\r\n","import React, { useRef, useState  } from 'react'\r\nimport { Card, Form, Button, Alert } from 'react-bootstrap'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport CenterContainer from './CenterContainer';\r\n\r\nexport default function Signup() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordconfirmRef = useRef()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const { signup } = useAuth()\r\n    const history = useHistory()\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        if (passwordRef.current.value !== passwordconfirmRef.current.value) {\r\n            return setError('Password do not match')\r\n        }\r\n\r\n        try {\r\n            setError('')\r\n            setLoading(true)\r\n            await signup(emailRef.current.value, passwordRef.current.value)\r\n            history.push('/')\r\n        } catch {\r\n            setError(\"Failed to create an account\")\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n       <CenterContainer>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">\r\n                        Sign UP\r\n                    </h2>\r\n                    {error && <Alert variant=\"danger\" >{error}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} required />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordRef}  />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password-confirm\">\r\n                            <Form.Label>Password confirmation</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordconfirmRef}  />\r\n                        </Form.Group>\r\n                   \r\n                    <Button disabled={loading}  \r\n                        className=\"w-100\" type=\"submit\">Sign Up</Button>\r\n                     </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Already have an account? \r\n                <Link to=\"/login\">Log In</Link>\r\n            </div>\r\n       </CenterContainer>\r\n    )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Card ,Button, Alert } from 'react-bootstrap'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport CenterContainer from './CenterContainer';\r\n\r\nexport default function Profile() {\r\n    const [error, setError] = useState(\"\")\r\n    const {currentUser, logout, deleteUser} =  useAuth()\r\n    const [loading, setLoading] = useState(false)\r\n    const history = useHistory()\r\n\r\n    async function handleLogout() {\r\n        setError('')\r\n\r\n        try {\r\n            await logout()\r\n            setLoading(true)\r\n            history.push(\"/login\")\r\n        } catch  {\r\n            setError(\"Failed to log out\")\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    async function handleDelete() {\r\n        setError('')\r\n\r\n        try {\r\n            await deleteUser()\r\n            setLoading(true)\r\n            history.push(\"/login\")    \r\n        } catch (error) {\r\n            setError(\"Failed to Delete\")\r\n        }\r\n    }\r\n\r\n    return (\r\n        <CenterContainer>\r\n            <Card> \r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">Profile</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                    <strong>Email:</strong>{currentUser.email}\r\n                    <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\">Update</Link>\r\n                    <Button onClick={handleLogout} className=\"btn btn-secondary w-100 mt-3\">Log Out</Button>\r\n                    <Button onClick={handleDelete} className=\"btn btn-danger w-100 mt-3\">Delete Your Account</Button>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                <Link to=\"/\">Cancel</Link>\r\n            </div>\r\n        </CenterContainer>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport { Card, Form, Button, Alert } from 'react-bootstrap'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport CenterContainer from './CenterContainer';\r\n\r\nexport default function Login() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const { login } = useAuth()\r\n    const history = useHistory()\r\n\r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n        \r\n        try {\r\n            setError('')\r\n            setLoading(true)\r\n            await login(emailRef.current.value, passwordRef.current.value)\r\n            history.push('/')\r\n        } catch {\r\n            setError(\"Failed to sign in!\")\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n       <CenterContainer>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">\r\n                        Log IN\r\n                    </h2>\r\n                    {error && <Alert variant=\"danger\" >{error}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} required />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control type=\"password\" ref={passwordRef}  />\r\n                        </Form.Group>\r\n                    <Button \r\n                        className=\"w-100\" type=\"submit\">Log In</Button>\r\n                     </Form>\r\n                     <div className=\"w-100 text-center mt-3\">\r\n                        <Link to=\"/forgetpassword\">Forget Password</Link>\r\n                        \r\n                    </div>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Don't have an account? \r\n                <Link to=\"/signup\">Sign Up</Link>\r\n                \r\n            </div>\r\n            \r\n       </CenterContainer>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Redirect, Route } from 'react-router'\r\nimport { useAuth } from './../contexts/AuthContext';\r\n\r\n\r\nexport default function PrivateRoute({ component: Component, ...rest}) {\r\n    const {currentUser } = useAuth()\r\n\r\n    return (\r\n        <Route \r\n            {...rest}\r\n            render={props => {\r\n                return currentUser ? <Component {...props} /> : <Redirect to=\"/login\" />\r\n            }}>\r\n\r\n        </Route>\r\n    )\r\n}\r\n","import React, { useRef, useState } from 'react'\r\nimport { Card, Form, Button, Alert } from 'react-bootstrap'\r\nimport { Link } from 'react-router-dom'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport CenterContainer from './CenterContainer';\r\n\r\nexport default function ForgetPassword() {\r\n    const emailRef = useRef()\r\n    const [error, setError] = useState('')\r\n    const [message, setMessage] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const { forgetPassword } = useAuth()\r\n   \r\n    async function handleSubmit(e) {\r\n        e.preventDefault()\r\n        \r\n        try {\r\n            setError('')\r\n            setMessage('')\r\n            setLoading(true)\r\n            await forgetPassword(emailRef.current.value)\r\n            setMessage(\"Check your Inbox for funther Instruction.\")\r\n        } catch {\r\n            setError(\"Failed to reset!\")\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    return (\r\n       <CenterContainer>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">\r\n                        Reset Password\r\n                    </h2>\r\n                    {error && <Alert variant=\"danger\" >{error}</Alert>}\r\n                    {message && <Alert variant=\"success\" >{message}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control type=\"email\" ref={emailRef} required />\r\n                        </Form.Group>\r\n                        \r\n                    <Button \r\n                        className=\"w-100\" type=\"submit\">Reset Password</Button>\r\n                     </Form>\r\n                     <div className=\"w-100 text-center mt-3\">\r\n                        <Link to=\"/login\">Log In</Link>\r\n                        \r\n                    </div>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                Don't have an account? \r\n                <Link to=\"/signup\">Sign Up</Link>\r\n                \r\n            </div>\r\n            \r\n       </CenterContainer>\r\n    )\r\n}\r\n","import React, { useRef, useState  } from 'react'\r\nimport { Card, Form, Button, Alert } from 'react-bootstrap'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport { useAuth } from '../contexts/AuthContext'\r\nimport CenterContainer from './CenterContainer';\r\n\r\nexport default function UpdateProfile() {\r\n    const emailRef = useRef()\r\n    const passwordRef = useRef()\r\n    const passwordconfirmRef = useRef()\r\n    const [error, setError] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n    const { currentUser, updateEmail, updatePassword } = useAuth()\r\n    const history = useHistory()\r\n\r\n     function handleSubmit(e) {\r\n        e.preventDefault()\r\n\r\n        if (passwordRef.current.value !== passwordconfirmRef.current.value) {\r\n            return setError('Password do not match')\r\n        }\r\n\r\n        const promises = []\r\n        setLoading(true)\r\n        setError(\"\")\r\n\r\n        if (emailRef.current.value !== currentUser.email) {\r\n            promises.push(updateEmail(emailRef.current.value))\r\n        }\r\n        if (passwordRef.current.value ) {\r\n            promises.push(updatePassword(passwordRef.current.value))\r\n        }\r\n\r\n        Promise.all(promises).then(() => {\r\n            history.push('/user')\r\n        }).catch(() => {\r\n            setError(\"Failed to update account\")\r\n        }).finally(() => {\r\n            setLoading(false)\r\n        }) \r\n    }  \r\n\r\n    return (\r\n       <CenterContainer>\r\n            <Card>\r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">\r\n                        Update Profile\r\n                    </h2>\r\n                    {error && <Alert variant=\"danger\" >{error}</Alert>}\r\n                    <Form onSubmit={handleSubmit}>\r\n                        <Form.Group id=\"email\">\r\n                            <Form.Label>Email</Form.Label>\r\n                            <Form.Control defaultValue={currentUser.email} type=\"email\" ref={emailRef}  required />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password\">\r\n                            <Form.Label>Password</Form.Label>\r\n                            <Form.Control placeholder={\"Leave blank to keep the password\"} type=\"password\" ref={passwordRef}  />\r\n                        </Form.Group>\r\n                        <Form.Group id=\"password-confirm\">\r\n                            <Form.Label>Password confirmation</Form.Label>\r\n                            <Form.Control placeholder={\"Leave blank to keep the password\"} type=\"password\" ref={passwordconfirmRef}  />\r\n                        </Form.Group>\r\n                   \r\n                    <Button disabled={loading}  \r\n                        className=\"w-100\" type=\"submit\">Update</Button>\r\n                    \r\n                     </Form>\r\n                </Card.Body>\r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n                <Link to=\"/user\">Cancel</Link>\r\n            </div>\r\n       </CenterContainer>\r\n    )\r\n}\r\n","import { useReducer,useEffect } from 'react'\r\nimport { useAuth } from './../contexts/AuthContext';\r\nimport { database } from './../firebase';\r\n\r\nconst ACTIONS= {\r\n    SELECT_FOLDER:\"select-folder\",\r\n    UPDATE_FOLDER:\"update-folder\",\r\n    SET_CHILD_FOLDERS:\"set-child-folders\",\r\n    SET_CHILD_FILES:\"set-child-files\"\r\n}\r\n\r\nexport const ROOT_FOLDER = { name: \"Root\", id: null , path: [] }\r\n\r\n  function reducer(state , { type, payload}) {\r\n    switch (type) {\r\n        case ACTIONS.SELECT_FOLDER: \r\n            return {\r\n                folderId: payload.folderId,\r\n                folder: payload.folder,\r\n                childFiles: [],\r\n                childFolders: []\r\n            }\r\n        case ACTIONS.UPDATE_FOLDER:\r\n            return {\r\n                ...state,\r\n                folder: payload.folder,\r\n            }\r\n        case ACTIONS.SET_CHILD_FOLDERS:\r\n            return {\r\n                ...state,\r\n                childFolders: payload.childFolders,\r\n            }\r\n        case ACTIONS.SET_CHILD_FILES:\r\n        return {\r\n            ...state,\r\n            childFiles: payload.childFiles,\r\n        }\r\n        default: \r\n            return state\r\n    }\r\n\r\n}\r\n\r\nexport function useFolder(folderId = null, folder = null) {\r\n    const [state, dispatch] = useReducer(reducer, {\r\n        folderId,\r\n        folder,\r\n        childFolders: [],\r\n        childFiles: []\r\n    })\r\n\r\n    const { currentUser} = useAuth()\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: ACTIONS.SELECT_FOLDER, payload: { folderId, folder } })\r\n    }, [folderId, folder])\r\n\r\n    useEffect(() => {\r\n        if (folderId == null) {\r\n          return dispatch({\r\n            type: ACTIONS.UPDATE_FOLDER,\r\n            payload: { folder: ROOT_FOLDER },\r\n          })\r\n        } \r\n\r\n        database.folders\r\n            .doc(folderId)\r\n            .get()\r\n            .then(doc => {\r\n                dispatch({\r\n                    type: ACTIONS.UPDATE_FOLDER,\r\n                    payload: { folder: database.formatDoc(doc)},\r\n                })\r\n            }).catch(() => {\r\n                dispatch({\r\n                    type: ACTIONS.UPDATE_FOLDER,\r\n                    payload: { folder: ROOT_FOLDER},\r\n                })\r\n            })\r\n\r\n    }, [folderId] )\r\n\r\n    useEffect(() => {\r\n       return  ( database.folders.where(\"parentId\", \"==\", folderId)\r\n                        .where(\"userId\", \"==\" , currentUser.uid)\r\n                        .orderBy(\"createdAt\")\r\n                        .onSnapshot(snapshot => {\r\n                            dispatch({\r\n                                type: ACTIONS.SET_CHILD_FOLDERS,\r\n                                payload: { childFolders: snapshot.docs.map(database.formatDoc)},\r\n                            })\r\n                        })\r\n                    )                     \r\n    },[folderId, currentUser])\r\n\r\n    useEffect(() => {\r\n        return  ( database.files.where(\"folderId\", \"==\", folderId)\r\n                         .where(\"userId\", \"==\" , currentUser.uid)\r\n                         //.orderBy(\"createdAt\")\r\n                         .onSnapshot(snapshot => {\r\n                             dispatch({\r\n                                 type: ACTIONS.SET_CHILD_FILES,\r\n                                 payload: { childFiles: snapshot.docs.map(database.formatDoc)},\r\n                             })\r\n                         })\r\n                     )                     \r\n     },[folderId, currentUser])\r\n\r\n    return state\r\n    \r\n}\r\n","import React, { useState } from 'react'\r\nimport ReactDOM from 'react-dom';\r\nimport { faFileUpload } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { database, storage } from '../firebase';\r\nimport { useAuth } from './../contexts/AuthContext';\r\nimport { ROOT_FOLDER } from './../hooks/useFolder';\r\nimport { v4 as uuidV4 } from 'uuid';\r\nimport {  ProgressBar } from 'react-bootstrap';\r\nimport Toast from 'react-bootstrap/Toast'\r\n\r\n\r\nexport default function AddFileButton({ currentFolder }) {\r\n    const [uploadingFiles, setUploadingFiles] = useState([])\r\n    const { currentUser } = useAuth()\r\n\r\n    function handleUpload(e) {\r\n        const file = e.target.files[0]\r\n        if (currentFolder == null || file == null ) return \r\n\r\n        const id = uuidV4()\r\n        setUploadingFiles(prevUploadingFiles => [\r\n            ...prevUploadingFiles,\r\n            { id: id, name: file.name, progress: 0, error: false},\r\n        ])\r\n\r\n        const filePath = \r\n            currentFolder === ROOT_FOLDER ?  `${currentFolder.path.join(\"/\")}/${file.name}`\r\n                                            : `${currentFolder.path.join(\"/\")}/${currentFolder.name}/${file.name}`\r\n         \r\n        const uploadTask = storage.ref(`/files/${currentUser.uid}/${filePath}`)\r\n                                    .put(file)\r\n            console.log(uploadTask.snapshot.ref.getDownloadURL())\r\n        \r\n        uploadTask.on('state_changed',\r\n         snapshot => {\r\n            const progress = snapshot.bytesTransferred / snapshot.totalBytes\r\n            setUploadingFiles(prevUploadingFiles => {\r\n              return prevUploadingFiles.map(uploadFile => {\r\n                if (uploadFile.id === id) {\r\n                  return { ...uploadFile, progress: progress }\r\n                }\r\n    \r\n                return uploadFile\r\n              })\r\n            })\r\n         }, \r\n         () => {\r\n            setUploadingFiles(prevUploadingFiles => {\r\n                return prevUploadingFiles.map(uploadFile => {\r\n                  if (uploadFile.id === id) {\r\n                    return { ...uploadFile, error: true }\r\n                  }\r\n                  return uploadFile\r\n                })\r\n              })\r\n          }, \r\n         () => {\r\n\r\n            setUploadingFiles(prevUploadingFiles => {\r\n                return prevUploadingFiles.filter(uploadFile => {\r\n                  return uploadFile.id !== id\r\n                })\r\n              })\r\n\r\n            uploadTask.snapshot.ref.getDownloadURL().then(url => {\r\n               \r\n            database.files.add({\r\n                url: url,\r\n                name: file.name,\r\n                createAt: database.getCurrentTimeStamp(),\r\n                folderId: currentFolder.id,\r\n                userId: currentUser.uid,\r\n            })\r\n        })\r\n\r\n        })\r\n    }\r\n    return (\r\n        <>\r\n            <label className=\"btn btn-outline-success btn-md m-0 mr-2\">\r\n                <FontAwesomeIcon icon={faFileUpload} />\r\n                <input \r\n                    type=\"file\"\r\n                    onChange={handleUpload}\r\n                    style={{ opacity: 0, position: 'absolute', left: \"-99999px\"}} />\r\n            </label>\r\n            {uploadingFiles.length > 0 && \r\n                ReactDOM.createPortal(\r\n                    <div\r\n                    style={{\r\n                        position: 'absolute',\r\n                        bottom: '1rem',\r\n                        right: '1rem',\r\n                        maxWidth: '250px'\r\n                    }}>\r\n                    \r\n                        {uploadingFiles.map (file => (\r\n                           \r\n                            <Toast \r\n                                key={file.id}\r\n                                onClose={() => {\r\n                                    setUploadingFiles(prevUploadingFiles => {\r\n                                      return prevUploadingFiles.filter(uploadFile => {\r\n                                        return uploadFile.id !== file.id\r\n                                      })\r\n                                    })\r\n                                  }}\r\n                                >\r\n                                <Toast.Header\r\n                                    // closeButton={file.error}\r\n                                    className=\"text-truncate w-100 d-block\">\r\n                                    <strong className=\"mr-auto\">{file.name}</strong>\r\n                                </Toast.Header>\r\n                                <Toast.Body>\r\n                                    <ProgressBar\r\n                                        animated={!file.error}\r\n                                        variant={file.error ? \"danger\" : \"primary\"}\r\n                                        now={file.error ? 100 : file.progress * 100}\r\n                                        label={\r\n                                            file.error ? \"Error\" : `${Math.round(file.progress * 100)}%`\r\n                                        } />\r\n\r\n                                </Toast.Body>\r\n                            </Toast>\r\n                        ))}\r\n                    </div>,\r\n                    document.body\r\n                )}\r\n        </>\r\n    )\r\n}\r\n","import { Button, Form, Modal } from 'react-bootstrap'\r\nimport React, {useState} from 'react'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faFolderPlus } from '@fortawesome/free-solid-svg-icons'\r\nimport { database } from './../firebase';\r\nimport { useAuth } from './../contexts/AuthContext';\r\nimport { ROOT_FOLDER } from './../hooks/useFolder';\r\n\r\nexport default function AddFolderButton({currentFolder}) {\r\n\r\n    const [open, setOpen] = useState(false)\r\n    const [name, setName] = useState(\"\")\r\n    const { currentUser} = useAuth()\r\n    \r\n    function openModal() {\r\n        setOpen(true)\r\n    }\r\n    \r\n    function closeModal() {\r\n        setOpen(false)\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault()\r\n        // console.log(currentFolder.id)\r\n\r\n         if(currentFolder == null ) return\r\n         \r\n         const path = [...currentFolder.path]\r\n         if(currentFolder !== ROOT_FOLDER) {\r\n             path.push({ name: currentFolder.name, id: currentFolder.id})\r\n         }\r\n        //create a folder in the database\r\n        database.folders.add({\r\n            name: name,\r\n            parentId: currentFolder.id,\r\n            userId: currentUser.uid,\r\n            path: path,\r\n            createdAt: database.getCurrentTimeStamp(),\r\n        })\r\n\r\n        setName(\"\")\r\n        closeModal()\r\n    }\r\n    return (\r\n        <>\r\n            <Button onClick={openModal} variant=\"outline-success\" size=\"md\">\r\n                <FontAwesomeIcon icon={faFolderPlus} />\r\n            </Button>\r\n            <Modal show={open} onHide={closeModal}>\r\n                <Form onSubmit={handleSubmit}>\r\n                    <Modal.Body>\r\n                        <Form.Group>\r\n                            <Form.Label>Folder Name</Form.Label>\r\n                            <Form.Control type=\"text\"\r\n                                        required\r\n                                        value={name}\r\n                                        onChange={e => setName(e.target.value)} />\r\n                        </Form.Group>\r\n                    </Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button variant=\"secondary\" onClick={closeModal}>\r\n                            Close\r\n                        </Button>\r\n                        <Button variant=\"success\" type=\"submit\">\r\n                            Add Folder\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Form>\r\n            </Modal>\r\n        </>\r\n    )\r\n}\r\n","import { faFolder } from '@fortawesome/free-solid-svg-icons';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport React from 'react'\r\nimport { Button } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Folder({ folder }) {\r\n    return (\r\n        <Button \r\n            to={{\r\n                pathname: `/folder/${folder.id}`,\r\n                state: { folder: folder},\r\n            }}\r\n            className=\"text-truncate w-100\" variant=\"outline-dark\" as={Link}>\r\n            <FontAwesomeIcon icon={faFolder} className=\"mr-2\" />\r\n            {folder.name}\r\n        </Button>\r\n    )\r\n}\r\n","import { faFile } from '@fortawesome/free-solid-svg-icons'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport React from 'react'\r\n\r\nexport default function File({ file }) {\r\n    return (\r\n        <a href={file.url} target=\"_blank\" className=\"btn btn-outline-dark\r\n            text-truncate w-100\" >\r\n            <FontAwesomeIcon icon={faFile} className=\"mr-2\" />\r\n            {file.name}\r\n        </a>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Breadcrumb } from 'react-bootstrap'\r\nimport { ROOT_FOLDER } from './../hooks/useFolder';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function FolderBreadCrumbs({ currentFolder }) {\r\n    let path = currentFolder === ROOT_FOLDER ? [] : [ROOT_FOLDER]\r\n    if (currentFolder) path = [...path, ...currentFolder.path]\r\n    return (\r\n        <Breadcrumb \r\n            className=\"flex-grow-1 m-0\"\r\n            listProps={{ className: \"bg-white m-0 pl-0\"}}>\r\n            \r\n            {path.map((folder, index) => (\r\n                <Breadcrumb.Item\r\n                key={folder.id}\r\n                linkAs={Link}\r\n                linkProps={{ \r\n                    to: {\r\n                        pathname: folder.id ? `/folder/${folder.id}` : \"/\",\r\n                        state: {folder: { ...folder, path: path.slice(1, index)}}\r\n                    },\r\n                }}\r\n                className=\"text-truncate d-inline-block\"\r\n                style={{ maxWidth: \"150px\"}}\r\n                 >\r\n                {folder.name}\r\n            </Breadcrumb.Item>\r\n            ))}\r\n            { currentFolder && (\r\n                <Breadcrumb.Item\r\n                    className=\"text-truncate d-inline-block\"\r\n                    style={{ maxWidth: \"200px\"}}\r\n                    active >\r\n                    {currentFolder.name}\r\n                </Breadcrumb.Item>\r\n            )}\r\n        </Breadcrumb>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Nav, Navbar } from 'react-bootstrap'\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport default function NavBarComponent() {\r\n    return (\r\n        <Navbar bg=\"light\" expand=\"x-lg\">\r\n            <Navbar.Brand className=\"mx-5\" as={Link} to=\"/\">\r\n                E-STORE\r\n            </Navbar.Brand>\r\n            <Nav>\r\n                <Nav.Link className=\"mx-5\" as={Link} to=\"/user\">\r\n                    Profile\r\n                </Nav.Link>\r\n            </Nav>\r\n        </Navbar>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport { Container } from 'react-bootstrap'\r\nimport { useLocation, useParams } from 'react-router-dom'\r\nimport {useFolder} from '../hooks/useFolder'\r\nimport AddFileButton from './AddFileButton'\r\nimport AddFolderButton from './AddFolderButton'\r\nimport Folder from './Folder'\r\nimport File from './File'\r\nimport FolderBreadCrumbs from './FolderBreadCrumbs'\r\nimport NavBarComponent from './NavBar'\r\n\r\n\r\nexport default function Dashboard() {\r\n    const { folderId } = useParams()\r\n    const { state = {} } = useLocation()\r\n    const { folder, childFolders, childFiles } =  useFolder(folderId, state.folder)\r\n\r\n    return (\r\n        <>\r\n            <NavBarComponent />\r\n            <Container fluid>\r\n            <div className=\"d-flex align-items-center mt-2\">\r\n                <FolderBreadCrumbs currentFolder={folder} />\r\n                <AddFileButton currentFolder={folder} />\r\n                <AddFolderButton currentFolder={folder} />\r\n             </div>\r\n                \r\n                {childFolders.length > 0 && (\r\n                    <div className=\"d-flex flex-wrap\">\r\n                        {childFolders.map( childFolder => (\r\n                            <div \r\n                                key={childFolder.id}\r\n                                style={{ maxWidth: \"200px\"}}\r\n                                className=\"p-2\">\r\n                                <Folder folder={childFolder} />\r\n                            </div>\r\n                        )\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                \r\n                {childFolders.length > 0 && childFiles.length > 0 && <hr />}\r\n\r\n                {childFiles.length > 0 && (\r\n                    <div className=\"d-flex flex-wrap\">\r\n                        {childFiles.map( childFile => (\r\n                            <div \r\n                                key={childFile.id}\r\n                                style={{ maxWidth: \"200px\"}}\r\n                                className=\"p-2\">\r\n                                <File file={childFile} />\r\n                            </div>\r\n                        )\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </Container>\r\n\r\n        </>\r\n    )\r\n}\r\n","import { Container } from \"react-bootstrap\";\nimport { BrowserRouter as Router, Route,  Switch } from \"react-router-dom\";\nimport { AuthProvider } from \"../contexts/AuthContext\";\nimport Signup from \"./Signup\";\nimport Profile from './Profile';\nimport Login from './Login';\nimport PrivateRoute from './PrivateRoute';\nimport ForgetPassword from './ForgetPassword';\nimport UpdateProfile from './UpdateProfile';\nimport CenterContainer from './CenterContainer';\nimport Dashboard from \"../drive/Dashboard\";\n\nfunction App() {\n  return (\n              \n                    <Router>\n                      <AuthProvider>\n                        <Switch>\n                          {/* Drive */}\n                          <PrivateRoute exact  path=\"/\" component={Dashboard} />\n                          <PrivateRoute exact  path=\"/folder/:folderId\" component={Dashboard} />\n\n                          {/* Profile */}\n                          <PrivateRoute  path=\"/user\" component={Profile} />\n                          <PrivateRoute exact path=\"/update-profile\" component={UpdateProfile} />\n                          \n                          {/* Auth */}\n                          <Route path=\"/signup\" component={Signup} />\n                          <Route path=\"/forgetpassword\" component={ForgetPassword} />\n                          <Route path=\"/login\" component={Login} />\n                        </Switch>\n                      </AuthProvider> \n                    </Router>\n              \n           \n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './authentication/App';\nimport reportWebVitals from './reportWebVitals';\nimport \"bootstrap/dist/css/bootstrap.min.css\"\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}